import{s as dt,b as ct,d as ht,r as Te,a as ft,o as _t,n as Ae}from"../chunks/scheduler.CXfhjvOk.js";import{S as vt,i as pt,C as mt,e as v,s as T,u as Ge,c as p,a as y,d as h,f as A,k as pe,v as Re,l as _,g as ee,h as i,w as ze,n as ue,x as Ye,y as Je,r as ve,z as Ke,t as x,b as $,j as ce,m as Ee,H as ke}from"../chunks/index.WVNcM1CQ.js";import{e as ne,u as gt,d as bt}from"../chunks/each.CxRJsNaj.js";import{r as Ie,o as wt,s as We,d as Ce}from"../chunks/firebaseConfig.DxRc-Brs.js";import{I as Et}from"../chunks/materialStock.BIL_7n2G.js";import{S as kt,P as yt}from"../chunks/Pagination.Br2EK98U.js";function Xe(t,e,l){const r=t.slice();return r[35]=e[l],r[37]=l,r}function Ze(t,e,l){const r=t.slice();return r[18]=e[l],r}function xe(t,e,l){const r=t.slice();return r[40]=e[l],r}function Pt(t,e,l){const r=t.slice();return r[43]=e[l],r}function $e(t,e,l){const r=t.slice();return r[46]=e[l],r}function et(t,e,l){const r=t.slice();return r[40]=e[l],r}function tt(t,e,l){const r=t.slice();return r[35]=e[l],r}function Dt(t,e,l){const r=t.slice();return r[43]=e[l],r}function It(t){let e,l,r;return{c(){e=v("div"),l=x(t[43]),r=T(),this.h()},l(o){e=p(o,"DIV",{class:!0});var n=y(e);l=$(n,t[43]),r=A(n),n.forEach(h),this.h()},h(){_(e,"class","border border-gray-300 bg-bgGrey border-none m-0 py-4 2xl:place-content-center sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center")},m(o,n){ee(o,e,n),i(e,l),i(e,r)},p:Ae,d(o){o&&h(e)}}}function lt(t){let e,l=t[35][t[40]]+"",r,o;return{c(){e=v("option"),r=x(l),this.h()},l(n){e=p(n,"OPTION",{});var u=y(e);r=$(u,l),u.forEach(h),this.h()},h(){e.__value=o=t[35][t[40]],Ee(e,e.__value)},m(n,u){ee(n,e,u),i(e,r)},p(n,u){u[0]&32&&l!==(l=n[35][n[40]]+"")&&ce(r,l),u[0]&32&&o!==(o=n[35][n[40]])&&(e.__value=o,Ee(e,e.__value))},d(n){n&&h(e)}}}function rt(t){let e,l,r="Select",o,n,u,d=ne(t[5]),a=[];for(let s=0;s<d.length;s+=1)a[s]=lt(tt(t,d,s));function b(...s){return t[20](t[46],t[40],...s)}return{c(){e=v("select"),l=v("option"),l.textContent=r;for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=p(s,"SELECT",{class:!0});var w=y(e);l=p(w,"OPTION",{"data-svelte-h":!0}),pe(l)!=="svelte-17cmu3a"&&(l.textContent=r);for(let E=0;E<a.length;E+=1)a[E].l(w);w.forEach(h),this.h()},h(){l.__value="",Ee(l,l.__value),_(e,"class","border-none border-gray-300 place-content-center sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2")},m(s,w){ee(s,e,w),i(e,l);for(let E=0;E<a.length;E+=1)a[E]&&a[E].m(e,null);ke(e,t[46][t[40]]),n||(u=ue(e,"change",b),n=!0)},p(s,w){if(t=s,w[0]&32){d=ne(t[5]);let E;for(E=0;E<d.length;E+=1){const z=tt(t,d,E);a[E]?a[E].p(z,w):(a[E]=lt(z),a[E].c(),a[E].m(e,null))}for(;E<a.length;E+=1)a[E].d(1);a.length=d.length}w[0]&40&&o!==(o=t[46][t[40]])&&ke(e,t[46][t[40]])},d(s){s&&h(e),ve(a,s),n=!1,u()}}}function at(t,e){let l,r,o,n,u,d,a=ye(e[46])+"",b,s,w,E,z,O,S,U,F,te,q,M,K,G,le,W,J,H=ne(["materialName","materialCode","unit","vendor","vendorPhoneNumber","vendorEmail","vendorAddress","uniPrice","status"]),N=[];for(let D=0;D<9;D+=1)N[D]=rt(et(e,H,D));function de(...D){return e[21](e[46],...D)}function re(...D){return e[22](e[46],...D)}function se(...D){return e[23](e[46],...D)}function Y(...D){return e[24](e[46],...D)}function ie(...D){return e[25](e[46],...D)}return{key:t,first:null,c(){l=v("div");for(let D=0;D<9;D+=1)N[D].c();r=T(),o=v("input"),u=T(),d=v("div"),b=x(a),s=T(),w=v("input"),z=T(),O=v("input"),U=T(),F=v("input"),q=T(),M=v("input"),G=T(),this.h()},l(D){l=p(D,"DIV",{class:!0,id:!0});var P=y(l);for(let B=0;B<9;B+=1)N[B].l(P);r=A(P),o=p(P,"INPUT",{type:!0,placeholder:!0,class:!0}),u=A(P),d=p(P,"DIV",{class:!0});var C=y(d);b=$(C,a),C.forEach(h),s=A(P),w=p(P,"INPUT",{type:!0,placeholder:!0,class:!0}),z=A(P),O=p(P,"INPUT",{type:!0,placeholder:!0,class:!0}),U=A(P),F=p(P,"INPUT",{type:!0,placeholder:!0,class:!0}),q=A(P),M=p(P,"INPUT",{type:!0,placeholder:!0,class:!0}),G=A(P),P.forEach(h),this.h()},h(){_(o,"type","number"),_(o,"placeholder","Order Qty"),_(o,"class","border-gray-300 border-none sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2"),o.value=n=e[46].orderQty,_(d,"class","border-gray-300 sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2"),_(w,"type","date"),_(w,"placeholder","Date Purchase"),_(w,"class","border-gray-300 sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2"),w.value=E=e[46].datePurchase,_(O,"type","date"),_(O,"placeholder","ETD"),_(O,"class","border-gray-300 sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2"),O.value=S=e[46].etd,_(F,"type","date"),_(F,"placeholder","ETA"),_(F,"class","border-gray-300 sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2"),F.value=te=e[46].eta,_(M,"type","date"),_(M,"placeholder","Arrival Date"),_(M,"class","border-gray-300 sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2"),M.value=K=e[46].arrivalDate,_(l,"class","flex gap-0"),_(l,"id",le=e[46].id),this.first=l},m(D,P){ee(D,l,P);for(let C=0;C<9;C+=1)N[C]&&N[C].m(l,null);i(l,r),i(l,o),i(l,u),i(l,d),i(d,b),i(l,s),i(l,w),i(l,z),i(l,O),i(l,U),i(l,F),i(l,q),i(l,M),i(l,G),W||(J=[ue(o,"input",de),ue(w,"input",re),ue(O,"input",se),ue(F,"input",Y),ue(M,"input",ie)],W=!0)},p(D,P){if(e=D,P[0]&2088){H=ne(["materialName","materialCode","unit","vendor","vendorPhoneNumber","vendorEmail","vendorAddress","uniPrice","status"]);let C;for(C=0;C<9;C+=1){const B=et(e,H,C);N[C]?N[C].p(B,P):(N[C]=rt(B),N[C].c(),N[C].m(l,r))}for(;C<9;C+=1)N[C].d(1)}P[0]&40&&n!==(n=e[46].orderQty)&&o.value!==n&&(o.value=n),P[0]&8&&a!==(a=ye(e[46])+"")&&ce(b,a),P[0]&40&&E!==(E=e[46].datePurchase)&&(w.value=E),P[0]&40&&S!==(S=e[46].etd)&&(O.value=S),P[0]&40&&te!==(te=e[46].eta)&&(F.value=te),P[0]&40&&K!==(K=e[46].arrivalDate)&&(M.value=K),P[0]&40&&le!==(le=e[46].id)&&_(l,"id",le)},d(D){D&&h(l),ve(N,D),W=!1,Te(J)}}}function nt(t){let e,l;return{c(){e=v("div"),l=x(t[4]),this.h()},l(r){e=p(r,"DIV",{class:!0});var o=y(e);l=$(o,t[4]),o.forEach(h),this.h()},h(){_(e,"class","text-red-500 mt-2 w-errorwidth bg-white")},m(r,o){ee(r,e,o),i(e,l)},p(r,o){o[0]&16&&ce(l,r[4])},d(r){r&&h(e)}}}function st(t){let e,l,r,o=ne(["ID","Mtrl Name","Mtrl Code","Mtrl Unit","Vendor","Vendor Email","Address","Unit Price","Status","Order Qty","Total Amount","Date Purchase","Delivery Date","ETA Date","Arrival Date","Edit","Delete"]),n=[];for(let a=0;a<17;a+=1)n[a]=Ct(Pt(t,o,a));let u=ne(t[7]),d=[];for(let a=0;a<u.length;a+=1)d[a]=ut(Xe(t,u,a));return{c(){e=v("div");for(let a=0;a<17;a+=1)n[a].c();l=T(),r=v("div");for(let a=0;a<d.length;a+=1)d[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0});var b=y(e);for(let w=0;w<17;w+=1)n[w].l(b);b.forEach(h),l=A(a),r=p(a,"DIV",{class:!0});var s=y(r);for(let w=0;w<d.length;w+=1)d[w].l(s);s.forEach(h),this.h()},h(){_(e,"class","flex"),_(r,"class","flex flex-col bg-white text-sm")},m(a,b){ee(a,e,b);for(let s=0;s<17;s+=1)n[s]&&n[s].m(e,null);ee(a,l,b),ee(a,r,b);for(let s=0;s<d.length;s+=1)d[s]&&d[s].m(r,null)},p(a,b){if(b[0]&446656){u=ne(a[7]);let s;for(s=0;s<u.length;s+=1){const w=Xe(a,u,s);d[s]?d[s].p(w,b):(d[s]=ut(w),d[s].c(),d[s].m(r,null))}for(;s<d.length;s+=1)d[s].d(1);d.length=u.length}},d(a){a&&(h(e),h(l),h(r)),ve(n,a),ve(d,a)}}}function Ct(t){let e,l,r;return{c(){e=v("div"),l=x(t[43]),r=T(),this.h()},l(o){e=p(o,"DIV",{class:!0});var n=y(e);l=$(n,t[43]),r=A(n),n.forEach(h),this.h()},h(){_(e,"class","border border-gray-300 text-white border-none m-0 py-4 2xl:place-content-center sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center place-content-center")},m(o,n){ee(o,e,n),i(e,l),i(e,r)},p:Ae,d(o){o&&h(e)}}}function it(t){let e,l,r=t[35][t[40]]+"",o;return{c(){e=v("li"),l=v("h4"),o=x(r),this.h()},l(n){e=p(n,"LI",{class:!0});var u=y(e);l=p(u,"H4",{});var d=y(l);o=$(d,r),d.forEach(h),u.forEach(h),this.h()},h(){_(e,"class",t[17]())},m(n,u){ee(n,e,u),i(e,l),i(l,o)},p(n,u){u[0]&128&&r!==(r=n[35][n[40]]+"")&&ce(o,r)},d(n){n&&h(e)}}}function Nt(t){let e,l=t[35].status+"",r;return{c(){e=v("h4"),r=x(l)},l(o){e=p(o,"H4",{});var n=y(e);r=$(n,l),n.forEach(h)},m(o,n){ee(o,e,n),i(e,r)},p(o,n){n[0]&128&&l!==(l=o[35].status+"")&&ce(r,l)},d(o){o&&h(e)}}}function Tt(t){let e,l,r,o,n=ne(t[18]),u=[];for(let a=0;a<n.length;a+=1)u[a]=ot(Ze(t,n,a));function d(...a){return t[28](t[35],...a)}return{c(){e=v("select");for(let a=0;a<u.length;a+=1)u[a].c();this.h()},l(a){e=p(a,"SELECT",{class:!0});var b=y(e);for(let s=0;s<u.length;s+=1)u[s].l(b);b.forEach(h),this.h()},h(){_(e,"class","border-gray-300 sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center py-2")},m(a,b){ee(a,e,b);for(let s=0;s<u.length;s+=1)u[s]&&u[s].m(e,null);ke(e,t[35].status),r||(o=ue(e,"change",d),r=!0)},p(a,b){if(t=a,b[0]&262144){n=ne(t[18]);let s;for(s=0;s<n.length;s+=1){const w=Ze(t,n,s);u[s]?u[s].p(w,b):(u[s]=ot(w),u[s].c(),u[s].m(e,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=n.length}b[0]&128&&l!==(l=t[35].status)&&ke(e,t[35].status)},d(a){a&&h(e),ve(u,a),r=!1,o()}}}function ot(t){let e,l=t[18]+"",r;return{c(){e=v("option"),r=x(l),this.h()},l(o){e=p(o,"OPTION",{});var n=y(e);r=$(n,l),n.forEach(h),this.h()},h(){e.__value=t[18],Ee(e,e.__value)},m(o,n){ee(o,e,n),i(e,r)},p:Ae,d(o){o&&h(e)}}}function ut(t){let e,l,r=t[37]+1+"",o,n,u,d,a,b,s,w=t[35].orderQty+"",E,z,O,S,U=ye(t[35])+"",F,te,q,M,K=t[35].datePurchase+"",G,le,W,J,H=t[35].etd+"",N,de,re,se,Y=t[35].eta+"",ie,D,P,C,B=t[35].arrivalDate+"",f,c,m,L,X="Edit",I,g="Delete",j,V,he,me,oe=ne(["materialName","materialCode","unit","vendor","vendorEmail","vendorAddress","uniPrice"]),Z=[];for(let Q=0;Q<7;Q+=1)Z[Q]=it(xe(t,oe,Q));function ge(Q,k){return Q[6]===Q[35].id?Tt:Nt}let _e=ge(t),ae=_e(t);function fe(){return t[29](t[35])}function we(){return t[30](t[35])}return{c(){e=v("ul"),l=v("li"),o=x(r),n=T();for(let Q=0;Q<7;Q+=1)Z[Q].c();u=T(),d=v("li"),ae.c(),a=T(),b=v("li"),s=v("h4"),E=x(w),z=T(),O=v("li"),S=v("h4"),F=x(U),te=T(),q=v("li"),M=v("h4"),G=x(K),le=T(),W=v("li"),J=v("h4"),N=x(H),de=T(),re=v("li"),se=v("h4"),ie=x(Y),D=T(),P=v("li"),C=v("h4"),f=x(B),c=T(),m=v("li"),L=v("button"),L.textContent=X,I=v("button"),I.textContent=g,j=T(),this.h()},l(Q){e=p(Q,"UL",{key:!0,class:!0});var k=y(e);l=p(k,"LI",{class:!0});var R=y(l);o=$(R,r),R.forEach(h),n=A(k);for(let De=0;De<7;De+=1)Z[De].l(k);u=A(k),d=p(k,"LI",{class:!0});var be=y(d);ae.l(be),be.forEach(h),a=A(k),b=p(k,"LI",{class:!0});var Ve=y(b);s=p(Ve,"H4",{});var Oe=y(s);E=$(Oe,w),Oe.forEach(h),Ve.forEach(h),z=A(k),O=p(k,"LI",{class:!0});var Ue=y(O);S=p(Ue,"H4",{});var Le=y(S);F=$(Le,U),Le.forEach(h),Ue.forEach(h),te=A(k),q=p(k,"LI",{class:!0});var Qe=y(q);M=p(Qe,"H4",{});var Se=y(M);G=$(Se,K),Se.forEach(h),Qe.forEach(h),le=A(k),W=p(k,"LI",{class:!0});var Me=y(W);J=p(Me,"H4",{});var je=y(J);N=$(je,H),je.forEach(h),Me.forEach(h),de=A(k),re=p(k,"LI",{class:!0});var qe=y(re);se=p(qe,"H4",{});var He=y(se);ie=$(He,Y),He.forEach(h),qe.forEach(h),D=A(k),P=p(k,"LI",{class:!0});var Be=y(P);C=p(Be,"H4",{});var Fe=y(C);f=$(Fe,B),Fe.forEach(h),Be.forEach(h),c=A(k),m=p(k,"LI",{class:!0});var Pe=y(m);L=p(Pe,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(L)!=="svelte-q1kj82"&&(L.textContent=X),I=p(Pe,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(I)!=="svelte-1gi46nx"&&(I.textContent=g),Pe.forEach(h),j=A(k),k.forEach(h),this.h()},h(){_(l,"class",t[17]()),_(d,"class",t[17]()),_(b,"class",t[17]()),_(O,"class",t[17]()),_(q,"class",t[17]()),_(W,"class",t[17]()),_(re,"class",t[17]()),_(P,"class",t[17]()),_(L,"class","h-8 text-sm font-bold rounded-lg text-black hover:text-white bg-green-200 hover:bg-green-700 w-20"),_(I,"class","h-8 text-sm font-bold rounded-lg text-black hover:text-white bg-red-200 hover:bg-red-700 w-20"),_(m,"class","flex-1 text-center"),_(e,"key",V=t[35].id),_(e,"class","flex mb-2 items-center hover:underline hover:font-semibold")},m(Q,k){ee(Q,e,k),i(e,l),i(l,o),i(e,n);for(let R=0;R<7;R+=1)Z[R]&&Z[R].m(e,null);i(e,u),i(e,d),ae.m(d,null),i(e,a),i(e,b),i(b,s),i(s,E),i(e,z),i(e,O),i(O,S),i(S,F),i(e,te),i(e,q),i(q,M),i(M,G),i(e,le),i(e,W),i(W,J),i(J,N),i(e,de),i(e,re),i(re,se),i(se,ie),i(e,D),i(e,P),i(P,C),i(C,f),i(e,c),i(e,m),i(m,L),i(m,I),i(e,j),he||(me=[ue(L,"click",fe),ue(I,"click",we)],he=!0)},p(Q,k){if(t=Q,k[0]&131200){oe=ne(["materialName","materialCode","unit","vendor","vendorEmail","vendorAddress","uniPrice"]);let R;for(R=0;R<7;R+=1){const be=xe(t,oe,R);Z[R]?Z[R].p(be,k):(Z[R]=it(be),Z[R].c(),Z[R].m(e,u))}for(;R<7;R+=1)Z[R].d(1)}_e===(_e=ge(t))&&ae?ae.p(t,k):(ae.d(1),ae=_e(t),ae&&(ae.c(),ae.m(d,null))),k[0]&128&&w!==(w=t[35].orderQty+"")&&ce(E,w),k[0]&128&&U!==(U=ye(t[35])+"")&&ce(F,U),k[0]&128&&K!==(K=t[35].datePurchase+"")&&ce(G,K),k[0]&128&&H!==(H=t[35].etd+"")&&ce(N,H),k[0]&128&&Y!==(Y=t[35].eta+"")&&ce(ie,Y),k[0]&128&&B!==(B=t[35].arrivalDate+"")&&ce(f,B),k[0]&128&&V!==(V=t[35].id)&&_(e,"key",V)},d(Q){Q&&h(e),ve(Z,Q),ae.d(),he=!1,Te(me)}}}function At(t){let e,l,r,o,n,u,d,a,b=[],s=new Map,w,E,z,O,S,U,F="Add Column",te,q,M="Submit",K,G,le="Delete",W,J,H,N,de,re,se,Y,ie,D,P,C=ne(["Mtrl Name","Mtrl Code","Mtrl Unit","Vendor","Phone#","Vendor Email","Address","Unit Price","Status","Order Qty","Total Amount","Date Purchase","Delivery Date","ETA Date","Arrival Date"]),B=[];for(let g=0;g<15;g+=1)B[g]=It(Dt(t,C,g));let f=ne(t[3]);const c=g=>g[46].id;for(let g=0;g<f.length;g+=1){let j=$e(t,f,g),V=c(j);s.set(V,b[g]=at(V,j))}let m=t[4]&&nt(t);function L(g){t[27](g)}let X={};t[1]!==void 0&&(X.searchItem=t[1]),N=new kt({props:X}),ct.push(()=>mt(N,"searchItem",L));let I=t[0].length>0&&st(t);return Y=new yt({props:{currentPage:t[2],totalPages:t[8],onPageChange:t[16]}}),{c(){e=v("main"),l=v("div"),r=v("div"),o=v("div"),n=v("div"),u=v("div");for(let g=0;g<15;g+=1)B[g].c();d=T(),a=v("div");for(let g=0;g<b.length;g+=1)b[g].c();w=T(),E=v("div"),m&&m.c(),z=T(),O=v("div"),S=v("div"),U=v("button"),U.textContent=F,te=T(),q=v("button"),q.textContent=M,K=T(),G=v("button"),G.textContent=le,W=T(),J=v("div"),H=v("div"),Ge(N.$$.fragment),re=T(),I&&I.c(),se=T(),Ge(Y.$$.fragment),this.h()},l(g){e=p(g,"MAIN",{class:!0});var j=y(e);l=p(j,"DIV",{class:!0});var V=y(l);r=p(V,"DIV",{class:!0});var he=y(r);o=p(he,"DIV",{class:!0});var me=y(o);n=p(me,"DIV",{class:!0});var oe=y(n);u=p(oe,"DIV",{class:!0});var Z=y(u);for(let k=0;k<15;k+=1)B[k].l(Z);Z.forEach(h),d=A(oe),a=p(oe,"DIV",{class:!0});var ge=y(a);for(let k=0;k<b.length;k+=1)b[k].l(ge);ge.forEach(h),w=A(oe),E=p(oe,"DIV",{class:!0});var _e=y(E);m&&m.l(_e),_e.forEach(h),z=A(oe),O=p(oe,"DIV",{class:!0});var ae=y(O);S=p(ae,"DIV",{class:!0});var fe=y(S);U=p(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(U)!=="svelte-1ixjebq"&&(U.textContent=F),te=A(fe),q=p(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(q)!=="svelte-srly4u"&&(q.textContent=M),K=A(fe),G=p(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(G)!=="svelte-1gcjzvw"&&(G.textContent=le),fe.forEach(h),ae.forEach(h),oe.forEach(h),me.forEach(h),he.forEach(h),W=A(V),J=p(V,"DIV",{class:!0});var we=y(J);H=p(we,"DIV",{class:!0});var Q=y(H);Re(N.$$.fragment,Q),re=A(Q),I&&I.l(Q),Q.forEach(h),we.forEach(h),se=A(V),Re(Y.$$.fragment,V),V.forEach(h),j.forEach(h),this.h()},h(){_(u,"class","flex font-bold"),_(a,"class","bg-white py-2"),_(E,"class","overflow-hidden"),_(U,"class","w-24 h-8 text-sm font-bold rounded-lg text-black hover:text-white bg-blue-200 hover:bg-blue-700"),_(q,"class","w-24 h-8 text-sm font-bold rounded-lg text-black hover:text-white bg-green-200 hover:bg-green-700"),_(G,"class","w-24 h-8 text-sm font-bold rounded-lg text-black hover:text-white bg-red-200 hover:bg-red-700"),_(S,"class","flex gap-2 py-2 justify-end"),_(O,"class","w-full flex flex-col justify-end gap-2 bg-white overflow-hidden"),_(n,"class","flex flex-col justify-between items-center bg-white text-white"),_(o,"class","overflow-hidden rounded-lg shadow hidden md:block mt-24"),_(r,"class","flex justify-center"),_(H,"class","overflow-hidden rounded-lg shadow hidden md:block font-bold bg-bgGrey"),_(J,"class","flex justify-center"),_(l,"class","flex flex-col gap-4"),_(e,"class","flex flex-col gap-8 w-screen overflow-hidden min-h-screen bg-bgDarkGrey font-patrick text-black m-0 p-0")},m(g,j){ee(g,e,j),i(e,l),i(l,r),i(r,o),i(o,n),i(n,u);for(let V=0;V<15;V+=1)B[V]&&B[V].m(u,null);i(n,d),i(n,a);for(let V=0;V<b.length;V+=1)b[V]&&b[V].m(a,null);i(n,w),i(n,E),m&&m.m(E,null),i(n,z),i(n,O),i(O,S),i(S,U),i(S,te),i(S,q),i(S,K),i(S,G),i(l,W),i(l,J),i(J,H),ze(N,H,null),i(H,re),I&&I.m(H,null),i(l,se),ze(Y,l,null),ie=!0,D||(P=[ue(U,"click",t[9]),ue(q,"click",t[13]),ue(G,"click",t[26])],D=!0)},p(g,j){j[0]&3112&&(f=ne(g[3]),b=gt(b,j,c,1,g,f,s,a,bt,at,null,$e)),g[4]?m?m.p(g,j):(m=nt(g),m.c(),m.m(E,null)):m&&(m.d(1),m=null);const V={};!de&&j[0]&2&&(de=!0,V.searchItem=g[1],ht(()=>de=!1)),N.$set(V),g[0].length>0?I?I.p(g,j):(I=st(g),I.c(),I.m(H,null)):I&&(I.d(1),I=null);const he={};j[0]&4&&(he.currentPage=g[2]),j[0]&256&&(he.totalPages=g[8]),Y.$set(he)},i(g){ie||(Ye(N.$$.fragment,g),Ye(Y.$$.fragment,g),ie=!0)},o(g){Je(N.$$.fragment,g),Je(Y.$$.fragment,g),ie=!1},d(g){g&&h(e),ve(B,g);for(let j=0;j<b.length;j+=1)b[j].d();m&&m.d(),Ke(N),I&&I.d(),Ke(Y),D=!1,Te(P)}}}let Ne=7;function ye(t){const e=parseFloat(t.uniPrice)||0,l=parseFloat(t.orderQty)||0;return e*l}function Vt(t,e,l){let r,o,n,u=[],d=[],a="",b=[],s=["Arrive","Pending","Delay"],w=null,E="",z=1;const O=Et.subscribe(f=>{console.log(f),l(5,b=f)});ft(()=>{O()}),_t(()=>{const f=Ie(Ce,"outputs");wt(f,c=>{const m=c.val();m&&l(0,d=Object.values(m).map(L=>({...L,...L.selections})))},c=>{console.error("Error fetching data: ",c)})});function S(){l(3,u=[...u,{id:Date.now(),materialName:"",materialCode:"",unit:"",vendor:"",vendorPhoneNumber:"",vendorEmail:"",vendorAddress:"",uniPrice:"",status:"",orderQty:"",datePurchase:"",etd:"",eta:"",arrivalDate:""}])}function U(f,c,m){const L=f.target.value;l(3,u=u.map(X=>X.id===c?{...X,[m]:L}:X)),M()}function F(f,c,m){const L=f.target.value;l(3,u=u.map(X=>{if(X.id===c){if(m==="materialName"){const I=b.find(g=>g.materialName===L);if(I)return{...X,materialName:L,materialCode:I.materialCode,uniPrice:I.uniPrice,unit:I.unit,vendor:I.vendor,vendorPhoneNumber:I.vendorPhoneNumber,vendorEmail:I.vendorEmail,vendorAddress:I.vendorAddress}}return{...X,[m]:L}}return X})),M()}function te(){let f=!0;l(4,a="");for(const c of u){const m=[];if(c.materialName||m.push("Material Name is required."),c.orderQty||m.push("Order Qty is required."),c.datePurchase||m.push("Date Purchase is required."),c.etd||m.push("ETD is required."),c.eta||m.push("ETA is required."),c.arrivalDate||m.push("Arrival Date is required."),m.length>0){l(4,a=m.join(" ")),f=!1;break}}return f}async function q(f){const c=d.filter(L=>L.id!==f);l(0,d=c);const m=Ie(Ce,"outputs");await We(m,c)}async function M(){console.log("Saving to Firebase:",d);const f=d.map(({materialName:c,materialCode:m,orderQty:L,datePurchase:X,...I})=>({materialName:c,materialCode:m,orderQty:L,datePurchase:X,...I}));await We(Ie(Ce,"outputs"),f)}async function K(){if(te()){const f=u.map(c=>({id:Date.now()+Math.random(),materialName:c.materialName,materialCode:c.materialCode,unit:c.unit,vendor:c.vendor,vendorPhoneNumber:c.vendorPhoneNumber,vendorEmail:c.vendorEmail,vendorAddress:c.vendorAddress,uniPrice:c.uniPrice,status:c.status,orderQty:c.orderQty,datePurchase:c.datePurchase,etd:c.etd,eta:c.eta,arrivalDate:c.arrivalDate}));l(0,d=[...d,...f]),l(3,u=[]),await M()}}function G(f,c){const m=d.find(L=>L.id===f);m&&(m.status=c,console.log("Updated item:",m),M()),l(6,w=null)}function le(f,c){l(6,w=f)}function W(f){l(2,z=f)}const J=()=>"flex sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center place-content-center",H=(f,c,m)=>F(m,f.id,c),N=(f,c)=>U(c,f.id,"orderQty"),de=(f,c)=>U(c,f.id,"datePurchase"),re=(f,c)=>U(c,f.id,"etd"),se=(f,c)=>U(c,f.id,"eta"),Y=(f,c)=>U(c,f.id,"arrivalDate"),ie=()=>l(3,u=[]);function D(f){E=f,l(1,E)}const P=(f,c)=>G(f.id,c.target.value),C=f=>le(f.id,f.status),B=f=>q(f.id);return t.$$.update=()=>{t.$$.dirty[0]&3&&l(19,r=d.filter(f=>f.materialName.toLowerCase().includes(E.toLowerCase()))),t.$$.dirty[0]&524288&&l(8,o=Math.ceil(r.length/Ne)),t.$$.dirty[0]&524292&&l(7,n=r.slice((z-1)*Ne,z*Ne))},[d,E,z,u,a,b,w,n,o,S,U,F,q,K,G,le,W,J,s,r,H,N,de,re,se,Y,ie,D,P,C,B]}class jt extends vt{constructor(e){super(),pt(this,e,Vt,At,dt,{},null,[-1,-1])}}export{jt as component};
