import{s as vl,n as sl,r as fl,o as _l,a as pl}from"../chunks/scheduler.Bo_c7Qur.js";import{S as ml,i as gl,e as a,s as v,t as K,c as r,a as o,d as n,f as _,b as X,l,g as Et,h as e,n as W,j as pe,u as ye,H as de,v as Ce,k as fe,w as he,m as al,r as hl}from"../chunks/index.nR378xpg.js";import{e as wt}from"../chunks/each.DQsVKIv9.js";import{m as bl}from"../chunks/materialOrder.DnxCXppz.js";import{s as rl,g as Q}from"../chunks/sortingTable.xxU4tKXG.js";import{s as kl}from"../chunks/sale.CNG863am.js";import{r as wl,d as El,s as Sl}from"../chunks/firebaseConfig.BLUbzBJs.js";function nl(t,s,i){const f=t.slice();return f[39]=s[i],f[41]=i,f}function ol(t,s,i){const f=t.slice();return f[42]=s[i],f}function il(t){let s,i,f,b,P,w,y,O,N,E,I,B,A,J,U,k,M,F="ID",Y,$,m,C=(t[1]==="id"?t[5]:Q("desc"))+"",g,h,V,T,ee="Mtrl Name",q,Z,ie,te=(t[1]==="materialName"?t[5]:Q("desc"))+"",ce,R,x,Se="Mtrl code",re,le,se,ue=(t[1]==="materialCode"?t[5]:Q("desc"))+"",me,z,S,j="Unit",u,c,p,ae=(t[1]==="unit"?t[5]:Q("desc"))+"",je,ne,ve,Je="Order Qty",He,Pe,Ne,Ie=(t[1]==="orderQty"?t[5]:Q("desc"))+"",Le,oe,_e,qe="Stock",Ae,Re,Ge,lt=(t[1]==="stock"?t[5]:Q("desc"))+"",St,ge,Te,jt="Sale",Pt,ze,Fe,st=(t[1]==="sale"?t[5]:Q("desc"))+"",Nt,be,Oe,Ht="Unit Price",yt,Ze,We,at=(t[1]==="uniPrice"?t[5]:Q("desc"))+"",Ct,ke,Qe,Lt="Market Price",It,Ke,Xe,rt=(t[1]==="marketPrice"?t[5]:Q("desc"))+"",At,we,De,Mt="Material Arrive",Tt,Ye,$e,nt=(t[1]==="materialArrive"?t[5]:Q("desc"))+"",Ot,Ee,Ve,Jt="Revenue",Qt,xe,et,ot=(t[1]==="remarks"?t[5]:Q("desc"))+"",Dt,Be,Vt,qt,Me=wt(t[4]),G=[];for(let d=0;d<Me.length;d+=1)G[d]=ul(nl(t,Me,d));return{c(){s=a("div"),i=a("div"),f=a("div"),b=a("input"),P=v(),w=ye("svg"),y=ye("g"),O=ye("rect"),N=ye("circle"),E=ye("path"),I=ye("defs"),B=ye("clipPath"),A=ye("rect"),J=v(),U=a("div"),k=a("button"),M=a("span"),M.textContent=F,Y=v(),$=a("span"),m=new de(!1),g=v(),h=a("div"),V=a("button"),T=a("span"),T.textContent=ee,q=v(),Z=a("span"),ie=new de(!1),ce=v(),R=a("button"),x=a("span"),x.textContent=Se,re=v(),le=a("span"),se=new de(!1),me=v(),z=a("button"),S=a("span"),S.textContent=j,u=v(),c=a("span"),p=new de(!1),je=v(),ne=a("button"),ve=a("span"),ve.textContent=Je,He=v(),Pe=a("span"),Ne=new de(!1),Le=v(),oe=a("button"),_e=a("span"),_e.textContent=qe,Ae=v(),Re=a("span"),Ge=new de(!1),St=v(),ge=a("button"),Te=a("span"),Te.textContent=jt,Pt=v(),ze=a("span"),Fe=new de(!1),Nt=v(),be=a("button"),Oe=a("span"),Oe.textContent=Ht,yt=v(),Ze=a("span"),We=new de(!1),Ct=v(),ke=a("button"),Qe=a("span"),Qe.textContent=Lt,It=v(),Ke=a("span"),Xe=new de(!1),At=v(),we=a("button"),De=a("span"),De.textContent=Mt,Tt=v(),Ye=a("span"),$e=new de(!1),Ot=v(),Ee=a("button"),Ve=a("span"),Ve.textContent=Jt,Qt=v(),xe=a("span"),et=new de(!1),Dt=v(),Be=a("div");for(let d=0;d<G.length;d+=1)G[d].c();this.h()},l(d){s=r(d,"DIV",{class:!0});var D=o(s);i=r(D,"DIV",{class:!0});var H=o(i);f=r(H,"DIV",{class:!0});var Ue=o(f);b=r(Ue,"INPUT",{type:!0,placeholder:!0,class:!0}),P=_(Ue),w=Ce(Ue,"svg",{class:!0,viewBox:!0,fill:!0,xmlns:!0});var Bt=o(w);y=Ce(Bt,"g",{"clip-path":!0});var it=o(y);O=Ce(it,"rect",{width:!0,height:!0,fill:!0}),o(O).forEach(n),N=Ce(it,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-linejoin":!0}),o(N).forEach(n),E=Ce(it,"path",{d:!0,fill:!0}),o(E).forEach(n),it.forEach(n),I=Ce(Bt,"defs",{});var Rt=o(I);B=Ce(Rt,"clipPath",{id:!0});var Gt=o(B);A=Ce(Gt,"rect",{width:!0,height:!0,fill:!0}),o(A).forEach(n),Gt.forEach(n),Rt.forEach(n),Bt.forEach(n),Ue.forEach(n),H.forEach(n),J=_(D),U=r(D,"DIV",{class:!0});var ct=o(U);k=r(ct,"BUTTON",{class:!0});var ut=o(k);M=r(ut,"SPAN",{class:!0,"data-svelte-h":!0}),fe(M)!=="svelte-z0ihic"&&(M.textContent=F),Y=_(ut),$=r(ut,"SPAN",{});var zt=o($);m=he(zt,!1),zt.forEach(n),ut.forEach(n),g=_(ct),h=r(ct,"DIV",{class:!0});var L=o(h);V=r(L,"BUTTON",{class:!0});var dt=o(V);T=r(dt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(T)!=="svelte-10afje5"&&(T.textContent=ee),q=_(dt),Z=r(dt,"SPAN",{});var Ft=o(Z);ie=he(Ft,!1),Ft.forEach(n),dt.forEach(n),ce=_(L),R=r(L,"BUTTON",{class:!0});var ft=o(R);x=r(ft,"SPAN",{class:!0,"data-svelte-h":!0}),fe(x)!=="svelte-t0qjqj"&&(x.textContent=Se),re=_(ft),le=r(ft,"SPAN",{});var Zt=o(le);se=he(Zt,!1),Zt.forEach(n),ft.forEach(n),me=_(L),z=r(L,"BUTTON",{class:!0});var ht=o(z);S=r(ht,"SPAN",{class:!0,"data-svelte-h":!0}),fe(S)!=="svelte-10t4w6x"&&(S.textContent=j),u=_(ht),c=r(ht,"SPAN",{});var Wt=o(c);p=he(Wt,!1),Wt.forEach(n),ht.forEach(n),je=_(L),ne=r(L,"BUTTON",{class:!0});var vt=o(ne);ve=r(vt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(ve)!=="svelte-rdy7kz"&&(ve.textContent=Je),He=_(vt),Pe=r(vt,"SPAN",{});var Kt=o(Pe);Ne=he(Kt,!1),Kt.forEach(n),vt.forEach(n),Le=_(L),oe=r(L,"BUTTON",{class:!0});var _t=o(oe);_e=r(_t,"SPAN",{class:!0,"data-svelte-h":!0}),fe(_e)!=="svelte-y3gcst"&&(_e.textContent=qe),Ae=_(_t),Re=r(_t,"SPAN",{});var Xt=o(Re);Ge=he(Xt,!1),Xt.forEach(n),_t.forEach(n),St=_(L),ge=r(L,"BUTTON",{class:!0});var pt=o(ge);Te=r(pt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Te)!=="svelte-1xhxdyq"&&(Te.textContent=jt),Pt=_(pt),ze=r(pt,"SPAN",{});var Yt=o(ze);Fe=he(Yt,!1),Yt.forEach(n),pt.forEach(n),Nt=_(L),be=r(L,"BUTTON",{class:!0});var mt=o(be);Oe=r(mt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Oe)!=="svelte-i4v5ha"&&(Oe.textContent=Ht),yt=_(mt),Ze=r(mt,"SPAN",{});var $t=o(Ze);We=he($t,!1),$t.forEach(n),mt.forEach(n),Ct=_(L),ke=r(L,"BUTTON",{class:!0});var gt=o(ke);Qe=r(gt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Qe)!=="svelte-10y951c"&&(Qe.textContent=Lt),It=_(gt),Ke=r(gt,"SPAN",{});var xt=o(Ke);Xe=he(xt,!1),xt.forEach(n),gt.forEach(n),At=_(L),we=r(L,"BUTTON",{class:!0});var bt=o(we);De=r(bt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(De)!=="svelte-1gsndq3"&&(De.textContent=Mt),Tt=_(bt),Ye=r(bt,"SPAN",{});var el=o(Ye);$e=he(el,!1),el.forEach(n),bt.forEach(n),Ot=_(L),Ee=r(L,"BUTTON",{class:!0});var kt=o(Ee);Ve=r(kt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Ve)!=="svelte-qu421b"&&(Ve.textContent=Jt),Qt=_(kt),xe=r(kt,"SPAN",{});var tl=o(xe);et=he(tl,!1),tl.forEach(n),kt.forEach(n),L.forEach(n),ct.forEach(n),Dt=_(D),Be=r(D,"DIV",{class:!0});var ll=o(Be);for(let Ut=0;Ut<G.length;Ut+=1)G[Ut].l(ll);ll.forEach(n),D.forEach(n),this.h()},h(){l(b,"type","text"),l(b,"placeholder","Search by date, materialCode, materialName, unit"),l(b,"class","pl-12 pr-4 py-2 border rounded-lg w-full bg-white focus:outline-none focus:ring-2 focus:ring-black"),l(O,"width","24"),l(O,"height","24"),l(O,"fill","white"),l(N,"cx","10.5"),l(N,"cy","10.5"),l(N,"r","6.5"),l(N,"stroke","#000000"),l(N,"stroke-linejoin","round"),l(E,"d","M19.6464 20.3536C19.8417 20.5488 20.1583 20.5488 20.3536 20.3536C20.5488 20.1583 20.5488 19.8417 20.3536 19.6464L19.6464 20.3536ZM20.3536 19.6464L15.3536 14.6464L14.6464 15.3536L19.6464 20.3536L20.3536 19.6464Z"),l(E,"fill","#000000"),l(y,"clip-path","url(#clip0)"),l(A,"width","24"),l(A,"height","24"),l(A,"fill","white"),l(B,"id","clip0"),l(w,"class","absolute left-3 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-500"),l(w,"viewBox","0 0 24 24"),l(w,"fill","none"),l(w,"xmlns","http://www.w3.org/2000/svg"),l(f,"class","relative w-full max-w-md"),l(i,"class","flex justify-center"),l(M,"class","mr-0"),m.a=null,l(k,"class",t[10]()),l(T,"class","mr-0"),ie.a=null,l(V,"class",t[10]()),l(x,"class","mr-0"),se.a=null,l(R,"class",t[10]()),l(S,"class","mr-0"),p.a=null,l(z,"class",t[10]()),l(ve,"class","mr-0"),Ne.a=null,l(ne,"class",t[10]()),l(_e,"class","mr-0"),Ge.a=null,l(oe,"class",t[10]()),l(Te,"class","mr-0"),Fe.a=null,l(ge,"class",t[10]()),l(Oe,"class","mr-0"),We.a=null,l(be,"class",t[10]()),l(Qe,"class","mr-0"),Xe.a=null,l(ke,"class",t[10]()),l(De,"class","mr-0"),$e.a=null,l(we,"class",t[10]()),l(Ve,"class","mr-0"),et.a=null,l(Ee,"class",t[10]()),l(h,"class","flex"),l(U,"class","flex"),l(Be,"class","flex flex-col bg-white divide-y text-sm"),l(s,"class","bg-bgGrey p-3 text-sm font-semibold tracking-wide text-left")},m(d,D){Et(d,s,D),e(s,i),e(i,f),e(f,b),al(b,t[2]),e(f,P),e(f,w),e(w,y),e(y,O),e(y,N),e(y,E),e(w,I),e(I,B),e(B,A),e(s,J),e(s,U),e(U,k),e(k,M),e(k,Y),e(k,$),m.m(C,$),e(U,g),e(U,h),e(h,V),e(V,T),e(V,q),e(V,Z),ie.m(te,Z),e(h,ce),e(h,R),e(R,x),e(R,re),e(R,le),se.m(ue,le),e(h,me),e(h,z),e(z,S),e(z,u),e(z,c),p.m(ae,c),e(h,je),e(h,ne),e(ne,ve),e(ne,He),e(ne,Pe),Ne.m(Ie,Pe),e(h,Le),e(h,oe),e(oe,_e),e(oe,Ae),e(oe,Re),Ge.m(lt,Re),e(h,St),e(h,ge),e(ge,Te),e(ge,Pt),e(ge,ze),Fe.m(st,ze),e(h,Nt),e(h,be),e(be,Oe),e(be,yt),e(be,Ze),We.m(at,Ze),e(h,Ct),e(h,ke),e(ke,Qe),e(ke,It),e(ke,Ke),Xe.m(rt,Ke),e(h,At),e(h,we),e(we,De),e(we,Tt),e(we,Ye),$e.m(nt,Ye),e(h,Ot),e(h,Ee),e(Ee,Ve),e(Ee,Qt),e(Ee,xe),et.m(ot,xe),e(s,Dt),e(s,Be);for(let H=0;H<G.length;H+=1)G[H]&&G[H].m(Be,null);Vt||(qt=[W(b,"input",t[17]),W(b,"input",t[18]),W(k,"click",t[19]),W(V,"click",t[20]),W(R,"click",t[21]),W(z,"click",t[22]),W(ne,"click",t[23]),W(oe,"click",t[24]),W(ge,"click",t[25]),W(be,"click",t[26]),W(ke,"click",t[27]),W(we,"click",t[28]),W(Ee,"click",t[29])],Vt=!0)},p(d,D){if(D[0]&4&&b.value!==d[2]&&al(b,d[2]),D[0]&34&&C!==(C=(d[1]==="id"?d[5]:Q("desc"))+"")&&m.p(C),D[0]&34&&te!==(te=(d[1]==="materialName"?d[5]:Q("desc"))+"")&&ie.p(te),D[0]&34&&ue!==(ue=(d[1]==="materialCode"?d[5]:Q("desc"))+"")&&se.p(ue),D[0]&34&&ae!==(ae=(d[1]==="unit"?d[5]:Q("desc"))+"")&&p.p(ae),D[0]&34&&Ie!==(Ie=(d[1]==="orderQty"?d[5]:Q("desc"))+"")&&Ne.p(Ie),D[0]&34&&lt!==(lt=(d[1]==="stock"?d[5]:Q("desc"))+"")&&Ge.p(lt),D[0]&34&&st!==(st=(d[1]==="sale"?d[5]:Q("desc"))+"")&&Fe.p(st),D[0]&34&&at!==(at=(d[1]==="uniPrice"?d[5]:Q("desc"))+"")&&We.p(at),D[0]&34&&rt!==(rt=(d[1]==="marketPrice"?d[5]:Q("desc"))+"")&&Xe.p(rt),D[0]&34&&nt!==(nt=(d[1]==="materialArrive"?d[5]:Q("desc"))+"")&&$e.p(nt),D[0]&34&&ot!==(ot=(d[1]==="remarks"?d[5]:Q("desc"))+"")&&et.p(ot),D[0]&720){Me=wt(d[4]);let H;for(H=0;H<Me.length;H+=1){const Ue=nl(d,Me,H);G[H]?G[H].p(Ue,D):(G[H]=ul(Ue),G[H].c(),G[H].m(Be,null))}for(;H<G.length;H+=1)G[H].d(1);G.length=Me.length}},d(d){d&&n(s),hl(G,d),Vt=!1,fl(qt)}}}function cl(t){let s,i=t[39].selections[t[42]]+"",f;return{c(){s=a("div"),f=K(i),this.h()},l(b){s=r(b,"DIV",{class:!0});var P=o(s);f=X(P,i),P.forEach(n),this.h()},h(){l(s,"class","sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center p-2")},m(b,P){Et(b,s,P),e(s,f)},p(b,P){P[0]&16&&i!==(i=b[39].selections[b[42]]+"")&&pe(f,i)},d(b){b&&n(s)}}}function ul(t){let s,i,f=t[41]+1+"",b,P,w,y,O,N=t[39].orderQty+"",E,I,B,A=(t[7][t[41]]||(t[39].status==="Arrive"?t[39].orderQty-(t[39].orderQty-(t[6][t[41]]||0)):0))+"",J,U,k,M,F=t[39].orderQty-(t[39].orderQty-(t[6][t[41]]||0))+"",Y,$,m,C,g=t[39].uniPrice+"",h,V,T,ee,q=t[39].uniPrice*2+"",Z,ie,te,ce,R=t[39].arrivalDate+"",x,Se,re,le,se=t[39].uniPrice*2*(t[39].orderQty-(t[39].orderQty-(t[6][t[41]]||0)))+"",ue,me,z,S=wt(["materialName","materialCode","unit"]),j=[];for(let u=0;u<3;u+=1)j[u]=cl(ol(t,S,u));return{c(){s=a("div"),i=a("div"),b=K(f),P=v();for(let u=0;u<3;u+=1)j[u].c();w=v(),y=a("div"),O=a("h4"),E=K(N),I=v(),B=a("div"),J=K(A),U=v(),k=a("div"),M=a("h4"),Y=K(F),$=v(),m=a("div"),C=a("h4"),h=K(g),V=v(),T=a("div"),ee=a("h4"),Z=K(q),ie=v(),te=a("div"),ce=a("h4"),x=K(R),Se=v(),re=a("div"),le=a("h4"),ue=K(se),me=v(),this.h()},l(u){s=r(u,"DIV",{key:!0,class:!0});var c=o(s);i=r(c,"DIV",{class:!0});var p=o(i);b=X(p,f),p.forEach(n),P=_(c);for(let Ae=0;Ae<3;Ae+=1)j[Ae].l(c);w=_(c),y=r(c,"DIV",{class:!0});var ae=o(y);O=r(ae,"H4",{});var je=o(O);E=X(je,N),je.forEach(n),ae.forEach(n),I=_(c),B=r(c,"DIV",{class:!0});var ne=o(B);J=X(ne,A),ne.forEach(n),U=_(c),k=r(c,"DIV",{class:!0});var ve=o(k);M=r(ve,"H4",{});var Je=o(M);Y=X(Je,F),Je.forEach(n),ve.forEach(n),$=_(c),m=r(c,"DIV",{class:!0});var He=o(m);C=r(He,"H4",{});var Pe=o(C);h=X(Pe,g),Pe.forEach(n),He.forEach(n),V=_(c),T=r(c,"DIV",{class:!0});var Ne=o(T);ee=r(Ne,"H4",{});var Ie=o(ee);Z=X(Ie,q),Ie.forEach(n),Ne.forEach(n),ie=_(c),te=r(c,"DIV",{class:!0});var Le=o(te);ce=r(Le,"H4",{});var oe=o(ce);x=X(oe,R),oe.forEach(n),Le.forEach(n),Se=_(c),re=r(c,"DIV",{class:!0});var _e=o(re);le=r(_e,"H4",{});var qe=o(le);ue=X(qe,se),qe.forEach(n),_e.forEach(n),me=_(c),c.forEach(n),this.h()},h(){l(i,"class",t[9]()),l(y,"class",t[9]()),l(B,"class",t[9]()),l(k,"class",t[9]()),l(m,"class",t[9]()),l(T,"class",t[9]()),l(te,"class",t[9]()),l(re,"class",t[9]()),l(s,"key",z=t[39].id),l(s,"class","flex mb-2 items-center hover:underline hover:font-semibold")},m(u,c){Et(u,s,c),e(s,i),e(i,b),e(s,P);for(let p=0;p<3;p+=1)j[p]&&j[p].m(s,null);e(s,w),e(s,y),e(y,O),e(O,E),e(s,I),e(s,B),e(B,J),e(s,U),e(s,k),e(k,M),e(M,Y),e(s,$),e(s,m),e(m,C),e(C,h),e(s,V),e(s,T),e(T,ee),e(ee,Z),e(s,ie),e(s,te),e(te,ce),e(ce,x),e(s,Se),e(s,re),e(re,le),e(le,ue),e(s,me)},p(u,c){if(c[0]&16){S=wt(["materialName","materialCode","unit"]);let p;for(p=0;p<3;p+=1){const ae=ol(u,S,p);j[p]?j[p].p(ae,c):(j[p]=cl(ae),j[p].c(),j[p].m(s,w))}for(;p<3;p+=1)j[p].d(1)}c[0]&16&&N!==(N=u[39].orderQty+"")&&pe(E,N),c[0]&208&&A!==(A=(u[7][u[41]]||(u[39].status==="Arrive"?u[39].orderQty-(u[39].orderQty-(u[6][u[41]]||0)):0))+"")&&pe(J,A),c[0]&80&&F!==(F=u[39].orderQty-(u[39].orderQty-(u[6][u[41]]||0))+"")&&pe(Y,F),c[0]&16&&g!==(g=u[39].uniPrice+"")&&pe(h,g),c[0]&16&&q!==(q=u[39].uniPrice*2+"")&&pe(Z,q),c[0]&16&&R!==(R=u[39].arrivalDate+"")&&pe(x,R),c[0]&80&&se!==(se=u[39].uniPrice*2*(u[39].orderQty-(u[39].orderQty-(u[6][u[41]]||0)))+"")&&pe(ue,se),c[0]&16&&z!==(z=u[39].id)&&l(s,"key",z)},d(u){u&&n(s),hl(j,u)}}}function Pl(t){let s,i,f,b,P,w,y,O,N,E,I,B,A,J,U,k,M,F,Y,$,m=t[0].length>0&&il(t);return{c(){s=a("main"),i=a("div"),f=a("div"),m&&m.c(),b=v(),P=a("div"),w=a("button"),y=K("Previous"),N=v(),E=a("span"),I=K("Page "),B=K(t[3]),A=K(" of "),J=K(t[8]),U=v(),k=a("button"),M=K("Next"),this.h()},l(C){s=r(C,"MAIN",{class:!0});var g=o(s);i=r(g,"DIV",{class:!0});var h=o(i);f=r(h,"DIV",{class:!0});var V=o(f);m&&m.l(V),V.forEach(n),b=_(h),P=r(h,"DIV",{class:!0});var T=o(P);w=r(T,"BUTTON",{class:!0});var ee=o(w);y=X(ee,"Previous"),ee.forEach(n),N=_(T),E=r(T,"SPAN",{class:!0});var q=o(E);I=X(q,"Page "),B=X(q,t[3]),A=X(q," of "),J=X(q,t[8]),q.forEach(n),U=_(T),k=r(T,"BUTTON",{class:!0});var Z=o(k);M=X(Z,"Next"),Z.forEach(n),T.forEach(n),h.forEach(n),g.forEach(n),this.h()},h(){l(f,"class","overflow-auto rounded-lg shadow hidden md:block bg-white mt-24"),l(w,"class","px-2 py-1 w-20 text-base font-semibold bg-bgGrey text-black rounded-md"),w.disabled=O=t[3]===1,l(E,"class","text-white text-lg font-semibold px-5"),l(k,"class","px-2 py-1 w-20 text-base font-semibold bg-bgGrey text-black rounded-md"),k.disabled=F=t[3]===t[8],l(P,"class","flex justify-center mt-5 place-content-center"),l(i,"class","flex flex-col"),l(s,"class","flex justify-center min-h-screen bg-bgdarkgrey font-patrick text-black")},m(C,g){Et(C,s,g),e(s,i),e(i,f),m&&m.m(f,null),e(i,b),e(i,P),e(P,w),e(w,y),e(P,N),e(P,E),e(E,I),e(E,B),e(E,A),e(E,J),e(P,U),e(P,k),e(k,M),Y||($=[W(w,"click",t[30]),W(k,"click",t[31])],Y=!0)},p(C,g){C[0].length>0?m?m.p(C,g):(m=il(C),m.c(),m.m(f,null)):m&&(m.d(1),m=null),g[0]&8&&O!==(O=C[3]===1)&&(w.disabled=O),g[0]&8&&pe(B,C[3]),g[0]&256&&pe(J,C[8]),g[0]&264&&F!==(F=C[3]===C[8])&&(k.disabled=F)},i:sl,o:sl,d(C){C&&n(s),m&&m.d(),Y=!1,fl($)}}}let tt=10;function dl(t,s){return s?t.filter(i=>Object.keys(i.selections).some(f=>String(i.selections[f]).toLowerCase().includes(s.toLowerCase()))):t}function Nl(t,s,i){let f,b,P,w=[],y=[],O="materialCode",N="asc",E="",I=1,B=Q(N),A=[],J=[],U=[],k=[];const M=()=>"sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center p-2",F=()=>"flex border border-gray-300 text-black border-none m-0 py-4 2xl:place-content-center sm:w-14 md:w-16 lg:w-20 xl:w-24 2xl:w-28 text-center",Y=kl.subscribe(S=>{i(6,A=S)}),$=bl.subscribe(S=>{i(0,w=S)});_l(()=>{$(),Y()}),pl(()=>{C(),V()});function m(){localStorage.setItem("currentPage",I),localStorage.setItem("searchTerm",E),localStorage.setItem("persistedQuantities",JSON.stringify(J)),localStorage.setItem("persistedRevenues",JSON.stringify(U)),localStorage.setItem("persistedArrivedQuantities",JSON.stringify(k)),localStorage.setItem("stockOut",JSON.stringify(A))}function C(){const S=localStorage.getItem("currentPage"),j=localStorage.getItem("searchTerm"),u=localStorage.getItem("persistedQuantities"),c=localStorage.getItem("persistedRevenues"),p=localStorage.getItem("persistedArrivedQuantities"),ae=localStorage.getItem("stockOut");S&&i(3,I=parseInt(S,10)),j&&i(2,E=j),u&&(J=JSON.parse(u)),c&&(U=JSON.parse(c)),p&&i(7,k=JSON.parse(p)),ae&&i(6,A=JSON.parse(ae))}function g(S){console.log(`Sorting by: ${S}`),O===S?i(14,N=N==="asc"?"desc":"asc"):(i(1,O=S),i(14,N="asc")),console.log(`Current sort order: ${N}`),i(5,B=Q(N)),V(),m()}async function h(){const S=wl(El,"inventory/"+I);await Sl(S,{currentPage:I,searchTerm:E,persistedQuantities:J,persistedRevenues:U,persistedArrivedQuantities:k,stockOut:A,displayedInventory:y})}function V(){const S=dl(w,E),j=rl(S,O,N),u=(I-1)*tt;i(4,y=j.slice(u,u+tt)),J=y.map((c,p)=>c.orderQty-(A[p]||0)),i(7,k=y.map((c,p)=>c.selections.status==="Arrive"?c.orderQty-(A[p]||0):0)),U=y.map((c,p)=>c.uniPrice*2*(c.orderQty-(c.orderQty-(A[p]||0)))),m(),h()}function T(S){S>=1&&S<=P&&(i(3,I=S),m(),V())}function ee(){E=this.value,i(2,E)}const q=()=>{i(3,I=1),V()},Z=()=>g("id"),ie=()=>g("materialName"),te=()=>g("materialCode"),ce=()=>g("unit"),R=()=>g("orderQty"),x=()=>g("stock"),Se=()=>g("sale"),re=()=>g("uniPrice"),le=()=>g("marketPrice"),se=()=>g("materialArrive"),ue=()=>g("remarks"),me=()=>T(I-1),z=()=>T(I+1);return t.$$.update=()=>{t.$$.dirty[0]&5&&i(15,f=dl(w,E)),t.$$.dirty[0]&49154&&i(16,b=rl(f,O,N)),t.$$.dirty[0]&65544&&i(4,y=b.slice((I-1)*tt,I*tt)),t.$$.dirty[0]&32768&&i(8,P=Math.ceil(f.length/tt))},[w,O,E,I,y,B,A,k,P,M,F,g,V,T,N,f,b,ee,q,Z,ie,te,ce,R,x,Se,re,le,se,ue,me,z]}class Dl extends ml{constructor(s){super(),gl(this,s,Nl,Pl,vl,{},null,[-1,-1])}}export{Dl as component};
